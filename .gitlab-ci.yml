image: golang:1.19

build:
  parallel:
    matrix:
      - GOOS:
          - linux
          - darwin
          - windows
        GOARCH:
          - amd64
          - arm64
          - x86
  artifacts:
    paths:
      - hello-${GOOS}-${GOARCH}
  script:
    - sleep 20 && echo go build -o hello-${GOOS}-${GOARCH} main.go

build3:
  parallel:
    matrix:
      - GOOS:
          - linux
          - darwin
          - windows
        GOARCH:
          - amd64
          - arm64
          - x86
  artifacts:
    paths:
      - hello-${GOOS}-${GOARCH}
  script:
    - sleep 20 && echo go build -o hello-${GOOS}-${GOARCH} main.go

build2:
  parallel:
    matrix:
      - GOOS:
          - linux
          - darwin
          - windows
        GOARCH:
          - amd64
          - arm64
          - x86
  artifacts:
    paths:
      - hello-${GOOS}-${GOARCH}
  script:
    - sleep 20 && echo go build -o hello-${GOOS}-${GOARCH} main.go